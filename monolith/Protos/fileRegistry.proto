syntax = "proto3";

option csharp_namespace = "monolith";

package datahoarderfs;


service FileRegistry {
  rpc Register (FileRegisterRequest) returns (FileRegisterReply);
  rpc Browse (FileBrowseRequest) returns (FileBrowseReply);
  rpc Get (FileGetRequest) returns (FileGetReply);
}


message File {
  string Id = 1;
  string Filename = 2;
  string Owner = 3;
  // string Container = 4;
}

message FileRegisterRequest {
  string Container = 1;
  string Filename = 2;
}
message FileRegisterReply {
  string Id = 1;
}


message FileBrowseRequest {
  string Container = 1;
  int32 Page = 2;
  // empty
}
message FileBrowseReply {
  repeated File Files = 1;
}


message FileGetRequest {
  string Id = 1;
}
message FileGetReply {
  repeated string Where2Get = 1;
}